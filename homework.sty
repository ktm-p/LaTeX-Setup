%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% .sty file created by ktm-p %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% PACKAGES %%%
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{cabin} % Headings font
\usepackage[default]{cantarell} % Default font
\usepackage[shortlabels]{enumitem}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{mathtools}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage[scr]{rsfso}
\usepackage{stmaryrd}
\usepackage{tasks}
\usepackage{thmtools}
\usepackage{tikz}
\usepackage{titlesec}
\usepackage{varwidth}
\usepackage{verbatim}
\usepackage{xcolor}
\usepackage{xparse}


%%% COLOURS %%%
\definecolor{darkgreen}{HTML}{19A514}
\definecolor{lightgreen}{HTML}{9DFF9A}
\definecolor{darkblue}{HTML}{3E5FE4}
\definecolor{lightblue}{HTML}{BCDEFF}
\definecolor{darkred}{HTML}{CC3333}
\definecolor{lightred}{HTML}{FFA9A9}
\definecolor{darkpurple}{HTML}{A933CD}
\definecolor{lightpurple}{HTML}{F0BAFF}
\definecolor{darkyellow}{HTML}{D2D22A}
\definecolor{lightyellow}{HTML}{FFFFAE}
\definecolor{hyperlinkblue}{HTML}{3366CC}

%%% PAGE SETUP %%%
% BASIC LAYOUT %
\setlength\parindent{0pt} % Paragraph indentation
\setlength{\parskip}{5pt} % Spacing between paragraphs
\usepackage[margin=1in]{geometry} % Margin size

% HEADER/FOOTER %
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[R]{\thepage} % Page number on bottom right
\fancyhead[R]{\textit{\leftmark}} % Section title
\renewcommand{\headrulewidth}{0pt} % Removing horizontal line at the top

% HYPERLINK FORMATTING %
\hypersetup{
	colorlinks,    
	linkcolor=hyperlinkblue,
	urlcolor=hyperlinkblue,
	pdftitle={...},
	pdfauthor={...},
}

% LIST OF PROBLEM PAGE %
% Solution by mrclrchtr:
% Link: https://tex.stackexchange.com/questions/475799/how-can-i-change-the-format-of-an-entry-in-listoftheorems-of-thmtools
\renewcommand\thmtformatoptarg[1]{:\enspace#1}

\makeatletter
\def\ll@hw{
	\thmt@thmname~
	\protect\numberline{\csname the\thmt@envname\endcsname}%
	\ifx\@empty
	\thmt@shortoptarg
	\else
	\protect\thmtformatoptarg{\thmt@shortoptarg}
	\fi
}
\makeatother

\makeatletter
\renewcommand*{\numberline}[1]{\hb@xt@3em{#1}}
\makeatother


%%% ENVIRONMENTS STYLES (thmtools boxes) %%%
% PURPLE BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightpurple,
	linecolor=darkpurple,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkpurple}
]{purplebox}

% GREEN BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightgreen,
	linecolor=darkgreen,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkgreen}
]{greenbox}

% YELLOW BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightyellow,
	linecolor=darkyellow,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkyellow}
]{yellowbox}

% BLUE BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightblue,
	linecolor=darkblue,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkblue}
]{bluebox}

% RED BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightred,
	linecolor=darkred,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkred}
]{redbox}


%%% ENVIRONMENTS %%%
% PURPLE BOXES (Theorems, Propositions, Lemmas, and Corollaries) %
\declaretheorem[style=purplebox,name=Theorem,within=section]{thm}
\declaretheorem[style=purplebox,name=Theorem,sibling=thm]{theorem}
\declaretheorem[style=purplebox,name=Theorem,numbered=no]{thm*, theorem*}
\declaretheorem[style=purplebox,name=Proposition,sibling=thm]{prop, proposition}
\declaretheorem[style=purplebox,name=Proposition,numbered=no]{prop*, proposition*}
\declaretheorem[style=purplebox,name=Lemma,sibling=thm]{lem, lemma}
\declaretheorem[style=purplebox,name=Lemma,numbered=no]{lem*, lemma*}
\declaretheorem[style=purplebox,name=Corollary,sibling=thm]{cor, corollary}
\declaretheorem[style=purplebox,name=Corollary,numbered=no]{cor*, corollary*}

% GREEN BOXES (Definitions) %
\declaretheorem[style=greenbox,name=Definition,sibling=thm]{definition, defn}
\declaretheorem[style=greenbox,name=Definition,numbered=no]{definition*, defn*}

% BLUE BOXES (Homework) %
\declaretheorem[style=bluebox,name=Problem,numberwithin=section]{homework}
\declaretheorem[style=bluebox,name=Problem,numbered=no]{homework*, hw*}
\NewDocumentEnvironment{hw}{m o}{\IfNoValueTF{#2}{
	\renewcommand*{\thehomework}{\thesubsection}\setcounter{subsection}{#1}\begin{homework}}
	{\renewcommand*{\thehomework}{\thesubsection\alph{homework}}\setcounter{subsection}{#1}\setcounter{homework}{\inteval{#2-1}}\begin{homework}}}
{\end{homework}}

% RED BOXES (Remarks) %
\declaretheorem[style=redbox,name=Remark,sibling=thm]{remark, rmk}
\declaretheorem[style=redbox,name=Remark, numbered=no]{remark*, rmk*}
\declaretheorem[style=yellowbox,name=Warning,sibling=thm]{warn}
\declaretheorem[style=yellowbox,name=Warning,numbered=no]{warn*}
%

% SOLUTION %
\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}
\renewcommand\qedsymbol{$\blacksquare$}

% INNER PROOF %
\newenvironment{innerproof}{\renewcommand{\qedsymbol}{$\square$}\proof}{\endproof}


%%% MATH MACROS %%%
% BASIC FUNCTIONS %
\newcommand{\Mod}[1]{\ (\mathrm{mod}\ #1)}
\newcommand{\floor}[1]{\left\lfloor{#1}\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil{#1}\right\rceil}
\newcommand{\norm}[1]{\left\lVert{#1}\right\rVert}
\newcommand{\abs}[1]{\left| #1 \right|}

% LOGIC %
\newcommand*\xor{\oplus}
\newcommand{\all}{\forall}
\newcommand{\bland}{\bigwedge}
\newcommand{\blor}{\bigvee}

% COMMON SETS %
\newcommand{\CC}{\mathbb{C}}
\newcommand{\NN}{\mathbb{N}}
\newcommand{\QQ}{\mathbb{Q}}
\newcommand{\RR}{\mathbb{R}}
\newcommand{\ZZ}{\mathbb{Z}}

% FUNCTIONS %
\newcommand{\surj}{\twoheadrightarrow}
\newcommand{\inj}{\hookrightarrow}

% BRACKETING %
\newcommand{\pr}[1]{\left( {#1} \right)}
\newcommand{\br}[1]{\left[ {#1} \right]}
\newcommand{\brc}[1]{ \left\{  {#1} \right\}}
\newcommand{\ang}[1]{\langle {#1} \rangle}

% FRACTIONS %
\newcommand{\pfrac}[2]{\pr{\frac{#1}{#2}}}
\newcommand{\bfrac}[2]{\br{\frac{#1}{#2}}}

% DERIVATIVES %
\NewDocumentCommand{\deriv}{o m}{
	\IfNoValueTF{#1}{\frac{d}{d #2}}
	{\frac{d #1}{d #2}}
}
\NewDocumentCommand{\pd}{o m}{
	\IfNoValueTF{#1}{\frac{\partial}{\partial #2}}
	{\frac{\partial #1}{\partial #2}}
}

% PROBABILITY (CS70) %
\newcommand{\E}{\mathbb{E}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\var}{\mathrm{Var}}
\newcommand{\cov}{\mathrm{cov}}
\newcommand{\corr}{\mathrm{Corr}}

% LINEAR ALGEBRA (MATH 110, AXLER) %
\newcommand\aug{\fboxsep=- \fboxrule\!\!\!\fbox{\strut}\!\!\!}\makeatletter 
\DeclareMathOperator*{\Span}{\mathrm{Span}}
\DeclareMathOperator*{\Null}{\mathrm{Null}}
\DeclareMathOperator*{\Range}{\mathrm{Range}}
\DeclareMathOperator*{\vspan}{\mathrm{span}}
\DeclareMathOperator*{\vnull}{\mathrm{null}}
\DeclareMathOperator*{\vrange}{\mathrm{range}}
\newcommand{\innerproduct}[2]{\left\langle{#1}, {#2}\right\rangle}
\DeclareMathOperator*{\proj}{\mathrm{proj}}

% SET THEORY (MATH 135, ENDERTON) %
\DeclareMathOperator*{\codom}{\mathrm{codom}}
\DeclareMathOperator*{\dom}{\mathrm{dom}}
\DeclareMathOperator*{\ran}{\mathrm{ran}}
\DeclareMathOperator*{\fld}{\mathrm{fld}}
\newcommand{\image}[1]{\left\llbracket {#1} \right\rrbracket}
\newcommand{\lang}[1]{\mathcal{L}\pr{#1}}


%%% COMPUTER SCIENCE MACROS %%%
% BIG-O NOTATION %
\newcommand{\BigO}[1]{\mathcal{O}\!\pr{#1}}
\newcommand{\BigOm}[1]{\Omega\!\pr{#1}}
\newcommand{\BigTh}[1]{\Theta\!\pr{#1}}
\newcommand{\SmO}[1]{\scalebox{0.7}{$\mathcal{O}$}\!\pr{#1}}
\newcommand{\SmOm}[1]{\omega\!\pr{#1}}


%%% MISCELLANEOUS %%%
\renewcommand*{\thehomework}{\thesubsection}
\renewcommand{\listtheoremname}{Problems}

%%% TITLE PAGE %%%
\newcommand{\mytitle}[2]{%
	\title{#1}
	\author{...}
	\date{#2}
	\maketitle
	\newpage
	\listoftheorems
	\newpage
}