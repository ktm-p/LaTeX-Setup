%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% .sty file created by ktm-p %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% PACKAGES %%%
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{cabin} % Headings font
\usepackage[default]{cantarell} % Default font
\usepackage[shortlabels]{enumitem}
\usepackage{fancyhdr}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{mathtools}
\usepackage[framemethod=TikZ]{mdframed}
\usepackage[scr]{rsfso}
\usepackage{stmaryrd}
\usepackage{tasks}
\usepackage{thmtools}
\usepackage{tikz}
\usepackage{titlesec}
\usepackage{varwidth}
\usepackage{verbatim}
\usepackage{xcolor}
\usepackage{xparse}


%%% COLOURS %%%
\definecolor{darkgreen}{HTML}{19A514}
\definecolor{lightgreen}{HTML}{9DFF9A}
\definecolor{darkblue}{HTML}{3E5FE4}
\definecolor{lightblue}{HTML}{BCDEFF}
\definecolor{darkred}{HTML}{CC3333}
\definecolor{lightred}{HTML}{FFA9A9}
\definecolor{darkpurple}{HTML}{A933CD}
\definecolor{lightpurple}{HTML}{F0BAFF}
\definecolor{darkyellow}{HTML}{D2D22A}
\definecolor{lightyellow}{HTML}{FFFFAE}
\definecolor{hyperlinkblue}{HTML}{3366CC}

%%% PAGE SETUP %%%
% BASIC LAYOUT %
\setlength\parindent{0pt} % Paragraph indentation
\setlength{\parskip}{5pt} % Spacing between paragraphs
\usepackage[margin=1in]{geometry} % Margin size

% HEADER/FOOTER %
\pagestyle{fancy}
\fancyhf{}
\fancyfoot[R]{\thepage} % Page number on bottom right
\fancyhead[R]{\textit{\leftmark}} % Section title
\renewcommand{\headrulewidth}{0pt} % Removing horizontal line at the top

% HYPERLINK FORMATTING %
\hypersetup{
	colorlinks,    
	linkcolor=hyperlinkblue,
	urlcolor=hyperlinkblue,
	pdftitle={...},
	pdfauthor={...},
}

% LIST OF PROBLEM PAGE %
% Solution by mrclrchtr:
% Link: https://tex.stackexchange.com/questions/475799/how-can-i-change-the-format-of-an-entry-in-theorems-of-thmtools
\begin{comment} % copy and paste this into your preamble!!!
	\renewcommand\thmtformatoptarg[1]{:\enspace#1}
	
	\makeatletter
	\def\ll@homework{
		\thmt@thmname~
		\protect\numberline{\csname the\thmt@envname\endcsname}%
		\ifx\@empty
		\thmt@shortoptarg
		\else
		\protect\thmtformatoptarg{\thmt@shortoptarg}
		\fi
	}
	\makeatother
	
	\makeatletter
	\renewcommand*{\numberline}[1]{\hb@xt@3em{#1}}
	\makeatother	
\end{comment}



%%% ENVIRONMENTS STYLES (thmtools boxes) %%%
% PURPLE BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightpurple,
	linecolor=darkpurple,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkpurple}
]{purplebox}

% GREEN BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightgreen,
	linecolor=darkgreen,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkgreen}
]{greenbox}

% YELLOW BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightyellow,
	linecolor=darkyellow,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkyellow}
]{yellowbox}

% BLUE BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightblue,
	linecolor=darkblue,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkblue}
]{bluebox}

% RED BOX %
\declaretheoremstyle[
	mdframed={
	backgroundcolor=lightred,
	linecolor=darkred,
	rightline=false,
	topline=false,
	bottomline=false,
	linewidth=2pt,
	innertopmargin=8pt,
	innerbottommargin=8pt,
	innerleftmargin=8pt,
	leftmargin=-2pt,
	skipbelow=2pt,
	nobreak
	},
	headfont=\normalfont\bfseries\color{darkred}
]{redbox}


%%% ENVIRONMENTS %%%
% PURPLE BOXES (Theorems, Propositions, Lemmas, and Corollaries) %
\declaretheorem[style=purplebox,name=Theorem,within=section]{thm}
\declaretheorem[style=purplebox,name=Theorem,sibling=thm]{theorem}
\declaretheorem[style=purplebox,name=Theorem,numbered=no]{thm*, theorem*}
\declaretheorem[style=purplebox,name=Proposition,sibling=thm]{prop, proposition}
\declaretheorem[style=purplebox,name=Proposition,numbered=no]{prop*, proposition*}
\declaretheorem[style=purplebox,name=Lemma,sibling=thm]{lem, lemma}
\declaretheorem[style=purplebox,name=Lemma,numbered=no]{lem*, lemma*}
\declaretheorem[style=purplebox,name=Corollary,sibling=thm]{cor, corollary}
\declaretheorem[style=purplebox,name=Corollary,numbered=no]{cor*, corollary*}

% GREEN BOXES (Definitions) %
\declaretheorem[style=greenbox,name=Definition,sibling=thm]{definition, defn}
\declaretheorem[style=greenbox,name=Definition,numbered=no]{definition*, defn*}

% BLUE BOXES (Homework) %
\declaretheorem[style=bluebox,name=Problem,numberwithin=section]{homework}
\declaretheorem[style=bluebox,name=Problem,numbered=no]{homework*, hw*}

\newcounter{dscounter}
\NewDocumentEnvironment{hw}{m O{0} O{0}}{
	\IfNoValueT{#2}{\renewcommand*{\thehomework}{\thesubsection}\setcounter{subsection}{#1}\begin{homework}}
	\IfNoValueF{#2}{\IfNoValueTF{#3}
		{\renewcommand*{\thehomework}{\thesubsection\alph{homework}}\setcounter{subsection}{#1}\setcounter{homework}{\inteval{#2-1}}\begin{homework}}
		{\renewcommand*{\thehomework}{\thesubsection\alph{dscounter}\roman{homework}}\setcounter{subsection}{#1}\setcounter{dscounter}{#2}\setcounter{homework}{\inteval{#3-1}}\begin{homework}}
		}
	}
	{\end{homework}}

% RED BOXES (Remarks) %
\declaretheorem[style=redbox,name=Remark,sibling=thm]{remark, rmk}
\declaretheorem[style=redbox,name=Remark, numbered=no]{remark*, rmk*}
\declaretheorem[style=yellowbox,name=Warning,sibling=thm]{warn}
\declaretheorem[style=yellowbox,name=Warning,numbered=no]{warn*}
%

% SOLUTION %
\newenvironment{solution}{\begin{proof}[Solution]}{\end{proof}}
\renewcommand\qedsymbol{$\blacksquare$}

% INNER PROOF %
\newenvironment{innerproof}{\renewcommand{\qedsymbol}{$\square$}\proof}{\endproof}


%%% MISCELLANEOUS %%%
\renewcommand*{\thehomework}{\thesubsection}
\renewcommand{\listtheoremname}{Problems}


%%% TITLE PAGE %%%
\newcommand{\mytitle}[2]{%
	\title{#1}
	\author{...}
	\date{#2}
	\maketitle
	\newpage
	\listoftheorems
	\newpage
}